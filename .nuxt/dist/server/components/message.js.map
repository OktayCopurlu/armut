{"version":3,"file":"components/message.js","sources":["webpack:///./components/Button.vue?bb06","webpack:///./components/Button.vue","webpack:///./components/Button.vue?a813","webpack:///./components/Button.vue?e059","webpack:///./components/EmpyMessageWindow.vue?d60c","webpack:///./components/MessageUserCard.vue?4b0d","webpack:///./components/MessageWith.vue?24d1","webpack:///./components/EmpyMessageWindow.vue?7845","webpack:///./components/Message.vue?dacd","webpack:///./components/MessageUserCard.vue?e920","webpack:///./components/MessageUserCard.vue?2d49","webpack:///./components/MessageWith.vue?63f1","webpack:///./components/MessageWith.vue?d981","webpack:///./components/EmpyMessageWindow.vue?d417","webpack:///./components/EmpyMessageWindow.vue?8b57","webpack:///./components/EmpyMessageWindow.vue?242b","webpack:///./components/EmpyMessageWindow.vue","webpack:///./components/MessageUserCard.vue?f310","webpack:///./components/MessageUserCard.vue","webpack:///./components/MessageUserCard.vue?70d3","webpack:///./components/MessageUserCard.vue?af53","webpack:///./components/MessageWith.vue?b466","webpack:///./components/MessageWith.vue","webpack:///./components/MessageWith.vue?f398","webpack:///./components/MessageWith.vue?aa01","webpack:///./components/Message.vue?c61e","webpack:///./components/Message.vue?7416","webpack:///./components/Message.vue?3b0f","webpack:///./components/Message.vue","webpack:///./components/Message.vue?cc41","webpack:///./components/Message.vue?ddad"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.clickEvent)?_c('button',{attrs:{\"value\":_vm.asked_service_user}},[_vm._ssrNode(_vm._ssrEscape(\"\\n  \"+_vm._s(_vm.text)+\"\\n\"))],2):_c('button',{attrs:{\"value\":_vm.asked_service_user},on:{\"click\":_vm.clickEvent}},[_vm._ssrNode(_vm._ssrEscape(\"\\n  \"+_vm._s(_vm.text)+\"\\n\"))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { reactive, toRefs } from \"@nuxtjs/composition-api\";\r\n\r\nexport default {\r\n  props: [\"clickEvent\", \"asked_service_user\", \"text\"],\r\n  setup() {\r\n    const state = reactive({});\r\n\r\n    return {\r\n      ...toRefs(state),\r\n    };\r\n  },\r\n};\r\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--3-0!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./Button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--3-0!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./Button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Button.vue?vue&type=template&id=227727fb&scoped=true&\"\nimport script from \"./Button.vue?vue&type=script&lang=js&\"\nexport * from \"./Button.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"227727fb\",\n  \"3bc8a3f6\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Button: require('C:/Users/41779/Desktop/armut/components/Button.vue').default})\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./EmpyMessageWindow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./EmpyMessageWindow.vue?vue&type=script&lang=ts&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageUserCard.vue?vue&type=style&index=0&id=12a5ddb1&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"16549780\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageWith.vue?vue&type=style&index=0&id=70484c3c&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"7693cfd0\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./EmpyMessageWindow.vue?vue&type=style&index=0&id=44f41633&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"d87294a2\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./Message.vue?vue&type=style&index=0&id=8a495928&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"5aa49bd8\", content, true, context)\n};","export * from \"-!../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageUserCard.vue?vue&type=style&index=0&id=12a5ddb1&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://pro.fontawesome.com/releases/v5.10.0/css/all.css);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"li[data-v-12a5ddb1]{list-style:none;padding:.5rem .5rem .5rem 1rem;cursor:pointer;display:flex}li[data-v-12a5ddb1]:hover{background-color:#d8cbcb}li span[data-v-12a5ddb1]{display:flex;flex-direction:column;justify-content:space-between}li span h4[data-v-12a5ddb1],li span strong[data-v-12a5ddb1]{margin:0;width:15rem}li span strong[data-v-12a5ddb1]{color:red}li span a[data-v-12a5ddb1]{text-decoration:none;color:#000}li img[data-v-12a5ddb1]{width:3.3rem;margin-right:1rem}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","export * from \"-!../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageWith.vue?vue&type=style&index=0&id=70484c3c&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://pro.fontawesome.com/releases/v5.10.0/css/all.css);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".back-button[data-v-70484c3c]{display:none}li[data-v-70484c3c]{list-style:none;padding:1rem;background-color:#c9c0c0}li[data-v-70484c3c],li span[data-v-70484c3c]{display:flex}li span[data-v-70484c3c]{align-items:center}li span h4[data-v-70484c3c]{margin:0 1rem}li span a[data-v-70484c3c]{margin-left:1rem;text-decoration:none;color:#000}li img[data-v-70484c3c]{width:3.3rem;margin-right:1rem}@media only screen and (max-width:768px){li[data-v-70484c3c]{display:flex;justify-content:space-between}.back-button[data-v-70484c3c]{display:inline;background-color:#c9c0c0;max-height:3rem;border:none;font-size:1.5rem}}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","export * from \"-!../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./EmpyMessageWindow.vue?vue&type=style&index=0&id=44f41633&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".empty-message-window[data-v-44f41633]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 120px);width:100%;background-color:#f3f3f3;text-align:center}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"empty-message-window\"},[_vm._ssrNode(\"<img src=\\\"https://cdn.armut.com/images/angular/CustomerApp/start-to-chat.png\\\" alt=\\\"empty messages img\\\" data-v-44f41633> <h3 data-v-44f41633>\\n    Contact from the menu on the left-side, talk details, get your job done\\n    easily!\\n  </h3>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./EmpyMessageWindow.vue?vue&type=template&id=44f41633&scoped=true&\"\nimport script from \"./EmpyMessageWindow.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmpyMessageWindow.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./EmpyMessageWindow.vue?vue&type=style&index=0&id=44f41633&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"44f41633\",\n  \"885fc5ba\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.user.photo\n        ? _vm.user.photo\n        : 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Gnome-stock_person.svg/1024px-Gnome-stock_person.svg.png'))+\" alt=\\\"User Photo\\\" data-v-12a5ddb1> <span data-v-12a5ddb1><h4 data-v-12a5ddb1>\"+_vm._ssrEscape(_vm._s(_vm.user.fullname))+\"</h4> <a\"+(_vm._ssrAttr(\"href\",(\"tel:\" + (_vm.user.tel))))+\" data-v-12a5ddb1>\"+_vm._ssrEscape(_vm._s(_vm.user.tel))+\"</a></span>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { defineComponent, Ref, ref } from \"@nuxtjs/composition-api\";\r\nimport { currentUserInfo } from \"~/store\";\r\nimport { useMessage } from \"~/store/message\";\r\nimport { UserPageType } from \"~/store/types\";\r\nimport { useUser } from \"~/store/user\";\r\n\r\nexport default defineComponent({\r\n  props: [\"_id\"],\r\n  setup(props: { _id: string; provider: boolean }) {\r\n    const { getUserInfo } = useUser();\r\n    const user: Ref<UserPageType> = ref({}) as Ref<UserPageType>;\r\n    const offers: Ref<Object[]> = ref([]);\r\n    const { getOffer } = useMessage();\r\n    const setOffer = async () => {\r\n      const data = await getUserInfo(props._id);\r\n      user.value = data;\r\n      const bidderID = currentUserInfo.provider\r\n        ? currentUserInfo._id\r\n        : data._id;\r\n      offers.value = await getOffer(bidderID);\r\n      // offer.forEach((elm) => {\r\n      //   offers.value = elm\r\n      // });\r\n    };\r\n    setOffer();\r\n    return {\r\n      user,\r\n      offers,\r\n    };\r\n  },\r\n});\r\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageUserCard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageUserCard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MessageUserCard.vue?vue&type=template&id=12a5ddb1&scoped=true&\"\nimport script from \"./MessageUserCard.vue?vue&type=script&lang=ts&\"\nexport * from \"./MessageUserCard.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MessageUserCard.vue?vue&type=style&index=0&id=12a5ddb1&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"12a5ddb1\",\n  \"60baf15f\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.user.photo\n        ? _vm.user.photo\n        : 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Gnome-stock_person.svg/1024px-Gnome-stock_person.svg.png'))+\" alt=\\\"User Photo\\\" data-v-70484c3c> <span data-v-70484c3c><h4 data-v-70484c3c>\"+_vm._ssrEscape(_vm._s(_vm.user.fullname))+\"</h4> <a\"+(_vm._ssrAttr(\"href\",(\"tel:\" + (_vm.user.tel))))+\" data-v-70484c3c>\"+_vm._ssrEscape(_vm._s(_vm.user.tel))+\"</a></span> <button class=\\\"back-button\\\" data-v-70484c3c><i class=\\\"fas fa-chevron-circle-right\\\" data-v-70484c3c></i></button>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { reactive, defineComponent } from \"@nuxtjs/composition-api\";\r\n\r\nexport default defineComponent({\r\n  props: [\"user\", \"showList\"],\r\n  setup() {\r\n    const state = reactive({});\r\n  },\r\n});\r\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageWith.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./MessageWith.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MessageWith.vue?vue&type=template&id=70484c3c&scoped=true&\"\nimport script from \"./MessageWith.vue?vue&type=script&lang=ts&\"\nexport * from \"./MessageWith.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MessageWith.vue?vue&type=style&index=0&id=70484c3c&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"70484c3c\",\n  \"0b6f4d2a\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Button: require('C:/Users/41779/Desktop/armut/components/Button.vue').default})\n","export * from \"-!../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./Message.vue?vue&type=style&index=0&id=8a495928&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://pro.fontawesome.com/releases/v5.10.0/css/all.css);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".block[data-v-8a495928]{height:79rem!important}.block[data-v-8a495928],.none[data-v-8a495928]{width:100%!important;transition:all .3s!important}.none[data-v-8a495928]{height:0!important;transform:translateY(10px)}.emoji-label[data-v-8a495928]{font-size:1.6rem;padding:.5rem .5rem .8rem;cursor:pointer}main[data-v-8a495928]{display:flex}main aside[data-v-8a495928]{width:20rem}main aside ul[data-v-8a495928]{margin:0;padding:0}main aside ul a[data-v-8a495928]{text-decoration:none;color:#000}main .empty-message-window[data-v-8a495928]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 120px);width:100%;background-color:#f3f3f3;text-align:center}main .message-window[data-v-8a495928]{width:100%;height:calc(100vh - 121px)}main .message-window[data-v-8a495928],main .message-window div[data-v-8a495928]{background-color:#f3f3f3;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden}main .message-window div[data-v-8a495928]{height:calc(100vh - 183px)}main .message-window div div[data-v-8a495928]{height:100%;padding:0 3rem}main .message-window div div section[data-v-8a495928]{display:flex;background-color:#404259;padding:.5rem 1.2rem;margin:2px;max-width:75%;color:#fff;display:inline-block;border-radius:5px;box-shadow:0 0 2px rgba(52,58,67,.10196),0 1px 2px rgba(52,58,67,.07843),0 1px 4px rgba(52,58,67,.07843)}main .message-window div div section p[data-v-8a495928]{padding:0;margin:.2rem}main .message-window div div .right[data-v-8a495928]{align-self:flex-end}main .message-window div div .left[data-v-8a495928]{align-self:flex-start}main .message-window div form[data-v-8a495928]{width:100%;display:flex;align-items:center;z-index:100;background-color:#f3f3f3}main .message-window div form input[data-v-8a495928]{width:100%;padding:14px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;background-color:#fff;width:90%}main .message-window div form input[data-v-8a495928]:active,main .message-window div form input[data-v-8a495928]:focus,main .message-window div form input[data-v-8a495928]:valid{background-color:#e2eff1;outline:none}main .message-window div form input:active+.label[data-v-8a495928],main .message-window div form input:focus+.label[data-v-8a495928],main .message-window div form input:valid+.label[data-v-8a495928]{transform:translateY(-10%);top:-2px;z-index:100;font-size:1rem;background-color:#f2f2f2}main .message-window div form button[data-v-8a495928]{border:none;background-color:green;color:#fff;font-size:1.2rem;border-radius:4px;transition:all .2s linear;cursor:pointer;width:100%;width:auto;border-radius:100%;padding:auto;margin:8px 0 8px .5rem}main .message-window div form button[data-v-8a495928]:hover{background-color:#00b300;transition:all .2s linear}@media only screen and (max-width:768px){main .not-exist[data-v-8a495928]{width:0;transition:all .2s ease-out}main .exist[data-v-8a495928],main .show-list[data-v-8a495928]{transition:all .2s ease-out;width:100%}main .show-list ul[data-v-8a495928]{margin:0;padding:0}main .show-list ul a[data-v-8a495928]{text-decoration:none;color:#000}main .hide-list[data-v-8a495928]{transition:all .2s ease-out;width:0}}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_vm._ssrNode(\"<aside\"+(_vm._ssrClass(null,_vm.apperance ? 'show-list' : 'hide-list'))+\" data-v-8a495928>\",\"</aside>\",[_vm._ssrNode(\"<ul data-v-8a495928>\",\"</ul>\",_vm._l((_vm.users),function(user){return _c('nuxt-link',{key:user,attrs:{\"to\":(\"/user-page/messages/\" + user)},nativeOn:{\"click\":function($event){return _vm.hideList.apply(null, arguments)}}},[_c('MessageUserCard',{attrs:{\"_id\":user}})],1)}),1)]),_vm._ssrNode(\" \"),(_vm.messages.length > 0)?_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,!_vm.apperance ? 'message-window existy' : 'message-window not-exist'))+\" data-v-8a495928>\",\"</div>\",[_c('MessageWith',{attrs:{\"user\":_vm.user,\"senderID\":_vm.senderID,\"showList\":_vm.showList}}),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div data-v-8a495928>\",\"</div>\",[_vm._ssrNode(\"<div data-v-8a495928>\"+(_vm._ssrList((_vm.messages),function(message){return (\"<section\"+(_vm._ssrClass(null,message.senderID == _vm.senderID ? 'right' : 'left'))+\" data-v-8a495928><p data-v-8a495928>\"+_vm._ssrEscape(\"\\n            \"+_vm._s(message.message)+\"\\n          \")+\"</p></section>\")}))+\"</div> \"),_c('VEmojiPicker',{class:_vm.display ? 'block' : 'none',attrs:{\"emojisByRow\":\"8\"},on:{\"select\":_vm.selectEmoji}}),_vm._ssrNode(\" <form data-v-8a495928><label class=\\\"emoji-label\\\" data-v-8a495928>ðŸ˜€</label> <input type=\\\"text\\\" id=\\\"more-info\\\" name=\\\"more-info\\\" required=\\\"required\\\" placeholder=\\\"Type here\\\"\"+(_vm._ssrAttr(\"value\",(_vm.message)))+\" data-v-8a495928> <button data-v-8a495928><i class=\\\"fas fa-paper-plane\\\" data-v-8a495928></i></button></form>\")],2)],2):_c('EmpyMessageWindow')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {\r\n  reactive,\r\n  defineComponent,\r\n  toRefs,\r\n  useRoute,\r\n  Ref,\r\n  ref,\r\n  useContext,\r\n} from \"@nuxtjs/composition-api\";\r\nimport { currentUserInfo } from \"~/store\";\r\nimport { useMessage } from \"~/store/message\";\r\nimport { UserMessagesType, UserPageType } from \"~/store/types\";\r\nimport _ from \"lodash\";\r\nimport { useUser } from \"~/store/user\";\r\nimport { VEmojiPicker } from \"v-emoji-picker\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    VEmojiPicker,\r\n  },\r\n  setup() {\r\n    const state: UserMessagesType = reactive({\r\n      price: \"\",\r\n      message: \"\",\r\n      senderID: currentUserInfo._id,\r\n      receiverID: \"\",\r\n      messages: [],\r\n      users: [],\r\n      display: false,\r\n      apperance: true,\r\n    });\r\n    const showList = () => {\r\n      state.apperance = true;\r\n    };\r\n\r\n    const hideList = () => {\r\n      state.apperance = false;\r\n    };\r\n    const { createMessage, getUserMessages } = useMessage();\r\n    const { getUserInfo } = useUser();\r\n\r\n    const changeDisplay = () => {\r\n      state.display = !state.display;\r\n    };\r\n\r\n    const selectEmoji = (emoji: {\r\n      aliases: string[];\r\n      category: string;\r\n      data: string;\r\n    }) => {\r\n      state.message = emoji.data;\r\n      state.display = !state.display;\r\n    };\r\n\r\n    const route = useRoute();\r\n    const routeID = route.value.params.slug;\r\n    state.receiverID = routeID;\r\n    const rezervationID = route.value.params.id;\r\n\r\n    let filteredUsers: string[] = [];\r\n\r\n    const user = ref({});\r\n    if (currentUserInfo.provider) {\r\n      const data = getUserInfo(currentUserInfo._id);\r\n      data.then((dt: UserPageType) => {\r\n        user.value = dt;\r\n      });\r\n    }\r\n\r\n    const offers: Ref<\r\n      {\r\n        _id: String;\r\n        price: String;\r\n        clientID: String;\r\n        bidderID: String;\r\n        serviceID: String;\r\n      }[]\r\n    > = ref([]);\r\n    const { getOffer } = useMessage();\r\n    const setOffer = async () => {\r\n      offers.value = await getOffer(currentUserInfo._id);\r\n    };\r\n\r\n    setOffer();\r\n    if (state.receiverID) {\r\n      const data = getUserInfo(state.receiverID);\r\n      data.then((dt: UserPageType) => {\r\n        user.value = dt;\r\n      });\r\n    }\r\n\r\n    const getMessages = async (): Promise<void> => {\r\n      try {\r\n        const messages: any = await getUserMessages(state.senderID);\r\n        await messages.forEach(\r\n          (msg: { receiverID: string; senderID: string }) => {\r\n            filteredUsers.push(msg.receiverID);\r\n            filteredUsers.push(msg.senderID);\r\n          }\r\n        );\r\n\r\n        const us = _.uniq(filteredUsers);\r\n        state.users = _.filter(us, (user: string) => user !== state.senderID);\r\n\r\n        state.messages = _.filter(\r\n          messages,\r\n          (obj: { receiverID: string; senderID: string }) =>\r\n            obj.receiverID == state.receiverID ||\r\n            obj.senderID == state.receiverID\r\n        );\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    const emptyForm = (): void => {\r\n      state.price = \"\";\r\n      state.message = \"\";\r\n    };\r\n\r\n    getMessages();\r\n\r\n    const context = useContext();\r\n    const io = context.app.$nuxtSocket({\r\n      name: \"main\",\r\n    });\r\n\r\n    const socket = io.connect();\r\n    socket.on(\"receive-message\", async (message: any) => {\r\n      state.messages.push(message);\r\n    });\r\n    const submit = async (): Promise<void> => {\r\n      const price = state.price;\r\n      const message = state.message;\r\n      const senderID = state.senderID;\r\n      const receiverID = state.receiverID;\r\n      const asked_service_id = rezervationID;\r\n      socket.emit(\"send-message\", {\r\n        price,\r\n        message,\r\n        senderID,\r\n        receiverID,\r\n        rezervationID,\r\n      });\r\n      await createMessage(\r\n        asked_service_id,\r\n        price,\r\n        message,\r\n        senderID,\r\n        receiverID\r\n      );\r\n      emptyForm();\r\n      await getMessages();\r\n    };\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      submit,\r\n      changeDisplay,\r\n      selectEmoji,\r\n      showList,\r\n      hideList,\r\n      user,\r\n      offers,\r\n    };\r\n  },\r\n});\r\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./Message.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--13-0!../node_modules/ts-loader/index.js??ref--13-1!../node_modules/@nuxt/components/dist/loader.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--16-0!./Message.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=8a495928&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=ts&\"\nexport * from \"./Message.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Message.vue?vue&type=style&index=0&id=8a495928&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"8a495928\",\n  \"ce637d78\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {MessageUserCard: require('C:/Users/41779/Desktop/armut/components/MessageUserCard.vue').default,MessageWith: require('C:/Users/41779/Desktop/armut/components/MessageWith.vue').default,Button: require('C:/Users/41779/Desktop/armut/components/Button.vue').default,EmpyMessageWindow: require('C:/Users/41779/Desktop/armut/components/EmpyMessageWindow.vue').default})\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAGA;AACA;AATA;;ACZA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACPA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACeA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAxBA;;ACzBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;;;;;;;;ACiBA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;;ACvBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACwDA;AASA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AAtJA;;AC1EA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}